(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27107bcc"],{"0a49":function(t,e,a){var n=a("9b43"),i=a("626a"),r=a("4bf8"),o=a("9def"),c=a("cd1c");t.exports=function(t,e){var a=1==t,s=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,p=e||c;return function(e,c,h){for(var m,v,b=r(e),y=i(b),g=n(c,h,3),C=o(y.length),_=0,B=a?p(e,C):s?p(e,0):void 0;C>_;_++)if((f||_ in y)&&(m=y[_],v=g(m,_,b),t))if(a)B[_]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:B.push(m)}else if(u)return!1;return d?-1:l||u?u:B}}},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"37b1":function(t,e,a){"use strict";var n=a("ef76"),i=a.n(n);i.a},"5e05":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row my-fix"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-header-icon card-header-rose"},[t.isShowEdit?a("div",{staticClass:"card-icon card-icon-right"},[a("router-link",{attrs:{to:{name:"uniPb"}}},[t._v("Phòng ban")])],1):t._e(),t._m(0),a("div",{staticStyle:{margin:"7px"}},[a("el-date-picker",{attrs:{type:"year",placeholder:"Pick a year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),t.isShowEdit?a("div",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("Sao chép dữ liệu")])]):t._e()]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableData",staticStyle:{width:"100%"},attrs:{data:t.canBo.filter((function(e){return!t.search||e.fullname.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"TT",type:"index",width:"40"}}),a("el-table-column",{attrs:{align:"center",label:"Các đơn vị (bộ phận)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t.getDepartmentName(e.row.department_id)))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Tên",prop:"fullname"}}),a("el-table-column",{attrs:{label:"Chức danh, học vị, chức vụ"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(e.row.position))]),a("span",[t._v(", ")]),a("span",[t._v(t._s(e.row.degree))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Điện thoại",prop:"phone_number"}}),a("el-table-column",{attrs:{align:"center",label:"E-mail",prop:"email"}}),t.isShowEdit?a("el-table-column",{attrs:{align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.rowClicked(e.row)}}},[t._v("Sửa")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeCB(e.row.id)}}},[t._v("Xóa")])]}}],null,!1,713148279)},[a("template",{slot:"header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"el-input__inner",attrs:{type:"text",placeholder:"Tìm kiếm"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])],2):t._e(),t.isShowEdit?a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("can-bo-chu-chot-form",{attrs:{year:t.year.getFullYear(),phongBan:t.phongBan,propCanBo:e.row,keyOfficerId:e.row.id,type:"update"},on:{onSubmit:t.onUpdate}})]}}],null,!1,3686472101)}):t._e()],1)],1)]),t.isShowEdit?a("div",{staticClass:"col-md-12",attrs:{id:"add-new"}},[a("div",{staticClass:"card"},[t._m(1),a("can-bo-chu-chot-form",{attrs:{year:t.year.getFullYear(),phongBan:t.phongBan},on:{onSubmit:t.onSubmit}})],1)]):t._e(),t.isShowEdit?a("div",{staticClass:"t-add-button"},[t._m(2)]):t._e(),a("el-dialog",{attrs:{title:"Sao chép dữ liệu",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"Sao chép dữ liệu từ năm: "}},[a("el-date-picker",{attrs:{type:"year",placeholder:"Pick a year"},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Hủy")]),a("el-button",{attrs:{type:"primary"},on:{click:t.copySubmit}},[t._v("Sao chép")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"card-title"},[t._v("12. Danh sách cán bộ lãnh đạo chủ chốt của CSGD "),a("br"),t._v("(các phòng, ban, khoa, trung tâm chỉ ghi cấp trưởng)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-header-icon card-header-rose"},[a("h4",{staticClass:"card-title"},[t._v("Thêm cán bộ chủ chốt")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-primary btn-lg btn-round btn-fab",attrs:{href:"#add-new"}},[a("i",{staticClass:"material-icons"},[t._v("add")]),a("div",{staticClass:"ripple-container"})])}],r=(a("6b54"),a("2397"),a("7f7f"),a("7514"),a("d225")),o=a("b0b4"),c=a("4e2b"),s=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3"),f=a("cca5");function p(t){var e=h();return function(){var a,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var m=function(t){Object(c["a"])(a,t);var e=p(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.loading=!0,t.year=new Date,t.form={year:new Date},t.dialogFormVisible=!1,t.phongBan=[],t.canBo=[],t.search="",t}return Object(o["a"])(a,[{key:"changeYear",value:function(t){this.year=t}},{key:"changeData",value:function(){this.init()}},{key:"getDepartmentName",value:function(t){var e=this.phongBan.find((function(e){return e.id===t}));return e?e.name:""}},{key:"onSubmit",value:function(t){this.canBo.push(t)}},{key:"onUpdate",value:function(t){var e=this.canBo.find((function(t){return t.id===t.id}));e=Object.assign(e,t)}},{key:"copySubmit",value:function(){var t=this;this.loading=!0,this.axios.post("key-officer/copy/"+this.year.getFullYear(),{copy_year:this.form.year.getFullYear()}).then((function(e){e.data.success&&(t.init(),t.loading=!1,t.dialogFormVisible=!1)}))}},{key:"removeCB",value:function(t){var e=this;this.$confirm("Bạn chắc chắn muốn xóa cán bộ này ?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Quay lại",type:"warning"}).then((function(){e.axios.post("key-officer/delete/"+t).then((function(){e.canBo=e.canBo.filter((function(e){return e.id!==t})),e.$message.success("Xóa cán bộ thành công!")}))})).catch((function(){e.$message.info("Xóa thất bại!")}))}},{key:"rowClicked",value:function(t){this.$refs.tableData.toggleRowExpansion(t)}},{key:"init",value:function(){var t=this;this.axios.get("key-officer/list/"+this.year.getFullYear()).then((function(e){t.loading=!1,t.canBo=e.data.data})),this.axios.get("department/list").then((function(e){t.phongBan=e.data.data.departments}))}},{key:"created",value:function(){this.init()}}]),a}(d["c"]);Object(u["a"])([Object(d["d"])("year",{immediate:!1})],m.prototype,"changeData",null),m=Object(u["a"])([Object(d["a"])({components:{CanBoChuChotForm:f["a"]}})],m);var v=m,b=v,y=(a("37b1"),a("2877")),g=Object(y["a"])(b,n,i,!1,null,"5a31a992",null);e["default"]=g.exports},7514:function(t,e,a){"use strict";var n=a("5ca1"),i=a("0a49")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in i||a("9e1e")&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8663:function(t,e,a){},b61a:function(t,e,a){"use strict";var n=a("8663"),i=a.n(n);i.a},cca5:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},t._l(t.errors.all(),(function(t){return a("el-alert",{key:t,attrs:{title:t,type:"error"}})})),1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Họ và tên:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.fullname,expression:"canBoData.fullname"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.canBoData.fullname},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"fullname",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Phòng ban:")]),a("el-select",{attrs:{filterable:"",placeholder:"Chọn phòng ban"},model:{value:t.canBoData.department_id,callback:function(e){t.$set(t.canBoData,"department_id",e)},expression:"canBoData.department_id"}},t._l(t.phongBan,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Chức vụ:")]),a("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Chức vụ"},model:{value:t.canBoData.position,callback:function(e){t.$set(t.canBoData,"position",e)},expression:"canBoData.position"}},t._l(t.chucVu,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Trình độ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.degree,expression:"canBoData.degree"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.canBoData.degree},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"degree",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Số điện thoại:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.phone_number,expression:"canBoData.phone_number"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"phone_number"},domProps:{value:t.canBoData.phone_number},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"phone_number",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.email,expression:"canBoData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:t.canBoData.email},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-3 ml-auto"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.onSubmit}},[t._v(t._s(t.buttonName))])])])])])},i=[],r=(a("6b54"),a("2397"),a("d225")),o=a("b0b4"),c=a("4e2b"),s=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3");function f(t){var e=p();return function(){var a,n=Object(l["a"])(t);if(e){var i=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){Object(c["a"])(a,t);var e=f(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.buttonName="Tạo mới",t.canBoData={fullname:"",department_id:"",position:"",degree:"",phone_number:"",email:""},t.chucVu=["Hiệu trưởng","Phó Hiệu trưởng","Trưởng phòng","Phó Trưởng phòng","Chủ nhiệm Khoa","Phó Chủ nhiệm Khoa","Trưởng ban","Phó Trưởng ban","Chánh Văn phòng","Phó Chánh Văn phòng","Giám đốc","Phó Giám đốc","Viện trưởng","Phó Viện trưởng","Giảng viên","Chuyên viên","Kế toán trưởng","Bí thư Đảng ủy","Phó Bí thư Đảng ủy","Chủ tịch Công đoàn","Phó Chủ tịch Công đoàn","Bí thư Đoàn TNCS HCM","Phó Bí thư Đoàn TNCS HCM"],t}return Object(o["a"])(a,[{key:"onSubmit",value:function(){var t=this,e="key-officer/create/"+this.year;"update"===this.type&&(e="key-officer/update/"+this.keyOfficerId),0===this.$validator.errors.all().length&&""!==this.canBoData.department_id?this.axios.post(e,this.canBoData).then((function(e){t.$emit("onSubmit",e.data.data.key_officer),t.canBoData={},"update"===t.type?t.$notify.success("Cập nhật cán bộ thành công!"):t.$notify.success("Tạo mới cán bộ thành công!")})):this.$notify.warning("Vui lòng nhập đủ thông tin!")}},{key:"changeCanBo",value:function(){"update"===this.type&&(this.canBoData=Object.assign(this.canBoData,this.propCanBo))}},{key:"created",value:function(){"update"===this.type&&(this.buttonName="Cập nhật")}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])({required:!0,default:[]})],h.prototype,"phongBan",void 0),Object(u["a"])([Object(d["b"])({required:!1,default:"create"})],h.prototype,"type",void 0),Object(u["a"])([Object(d["b"])({required:!1,default:0})],h.prototype,"keyOfficerId",void 0),Object(u["a"])([Object(d["b"])({required:!1})],h.prototype,"propCanBo",void 0),Object(u["a"])([Object(d["b"])({required:!1})],h.prototype,"year",void 0),Object(u["a"])([Object(d["d"])("propCanBo",{deep:!0,immediate:!0})],h.prototype,"changeCanBo",null),h=Object(u["a"])([d["a"]],h);var m=h,v=m,b=(a("b61a"),a("2877")),y=Object(b["a"])(v,n,i,!1,null,"d4c4eed4",null);e["a"]=y.exports},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,a){var n=a("d3f4"),i=a("1169"),r=a("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},ef76:function(t,e,a){}}]);
//# sourceMappingURL=chunk-27107bcc.19c9ce23.js.map