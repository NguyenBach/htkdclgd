(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6546bed0"],{"0a49":function(t,e,a){var n=a("9b43"),r=a("626a"),i=a("4bf8"),o=a("9def"),c=a("cd1c");t.exports=function(t,e){var a=1==t,s=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,p=e||c;return function(e,c,m){for(var v,b,h=i(e),g=r(h),y=n(c,m,3),C=o(g.length),B=0,_=a?p(e,C):s?p(e,0):void 0;C>B;B++)if((f||B in g)&&(v=g[B],b=y(v,B,h),t))if(a)_[B]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return B;case 2:_.push(v)}else if(u)return!1;return d?-1:l||u?u:_}}},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"5e05":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row my-fix"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-header-icon card-header-rose"},[a("div",{staticClass:"card-icon card-icon-right"},[a("router-link",{attrs:{to:{name:"uniPb"}}},[t._v("Phòng ban")])],1),a("h4",{staticClass:"card-title"},[t._v("12. Cán bộ chủ chốt")])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableData",staticStyle:{width:"100%"},attrs:{data:t.canBo.filter((function(e){return!t.search||e.fullname.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"Id",type:"index",width:"40"}}),a("el-table-column",{attrs:{align:"center",label:"Tên",prop:"fullname"}}),a("el-table-column",{attrs:{align:"center",label:"Các đơn vị (bộ phận)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t.getDepartmentName(e.row.department_id)))])])]}}])}),a("el-table-column",{attrs:{label:"Chức danh, học vị, chức vụ"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(e.row.position))]),a("span",[t._v(",")]),a("span",[t._v(t._s(e.row.degree))])])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Điện thoại",prop:"phone_number"}}),a("el-table-column",{attrs:{align:"center",label:"E-mail",prop:"email"}}),a("el-table-column",{attrs:{align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.rowClicked(e.row)}}},[t._v("Sửa")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeCB(e.row.id)}}},[t._v("Xóa")])]}}])},[a("template",{slot:"header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"el-input__inner",attrs:{type:"text",placeholder:"Tìm kiếm"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])],2),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("can-bo-chu-chot-form",{attrs:{phongBan:t.phongBan,propCanBo:e.row,keyOfficerId:e.row.id,type:"update"},on:{onSubmit:t.onUpdate}})]}}])})],1)],1)]),a("div",{staticClass:"col-md-12",attrs:{id:"add-new"}},[a("div",{staticClass:"card"},[t._m(0),a("can-bo-chu-chot-form",{attrs:{phongBan:t.phongBan},on:{onSubmit:t.onSubmit}})],1)]),t._m(1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-header-icon card-header-rose"},[a("h4",{staticClass:"card-title"},[t._v("Thêm cán bộ chủ chốt")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-add-button"},[a("a",{staticClass:"btn btn-primary btn-lg btn-round btn-fab",attrs:{href:"#add-new"}},[a("i",{staticClass:"material-icons"},[t._v("add")]),a("div",{staticClass:"ripple-container"})])])}],i=(a("6b54"),a("2397"),a("7f7f"),a("7514"),a("d225")),o=a("b0b4"),c=a("4e2b"),s=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3"),f=a("cca5");function p(t){var e=m();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var v=function(t){Object(c["a"])(a,t);var e=p(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.loading=!0,t.phongBan=[],t.canBo=[],t.search="",t}return Object(o["a"])(a,[{key:"getDepartmentName",value:function(t){var e=this.phongBan.find((function(e){return e.id===t}));return e?e.name:""}},{key:"onSubmit",value:function(t){this.canBo.push(t)}},{key:"onUpdate",value:function(t){console.log(t);var e=this.canBo.find((function(t){return t.id===t.id}));e=Object.assign(e,t)}},{key:"removeCB",value:function(t){var e=this;this.$confirm("Bạn chắc chắn muốn xóa cán bộ này ?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Quay lại",type:"warning"}).then((function(){e.axios.post("key-officer/delete/"+t).then((function(){e.canBo=e.canBo.filter((function(e){return e.id!==t})),e.$message.success("Xóa cán bộ thành công!")}))})).catch((function(){e.$message.info("Xóa thất bại!")}))}},{key:"rowClicked",value:function(t){this.$refs.tableData.toggleRowExpansion(t)}},{key:"created",value:function(){var t=this;this.axios.get("key-officer/list").then((function(e){t.loading=!1,t.canBo=e.data.data})),this.axios.get("department/list").then((function(e){t.phongBan=e.data.data.departments}))}}]),a}(d["c"]);v=Object(u["a"])([Object(d["a"])({components:{CanBoChuChotForm:f["a"]}})],v);var b=v,h=b,g=(a("ccf1"),a("2877")),y=Object(g["a"])(h,n,r,!1,null,"aeeec57a",null);e["default"]=y.exports},7514:function(t,e,a){"use strict";var n=a("5ca1"),r=a("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},"7f7f":function(t,e,a){var n=a("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in r||a("9e1e")&&n(r,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},cca5:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},t._l(t.errors.all(),(function(t){return a("el-alert",{key:t,attrs:{title:t,type:"error"}})})),1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Họ và tên:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.fullname,expression:"canBoData.fullname"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.canBoData.fullname},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"fullname",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Phòng ban:")]),a("el-select",{attrs:{filterable:"",placeholder:"Chọn phòng ban"},model:{value:t.canBoData.department_id,callback:function(e){t.$set(t.canBoData,"department_id",e)},expression:"canBoData.department_id"}},t._l(t.phongBan,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Chức vụ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.position,expression:"canBoData.position"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"position"},domProps:{value:t.canBoData.position},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"position",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Trình độ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.degree,expression:"canBoData.degree"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.canBoData.degree},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"degree",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Số điện thoại:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.phone_number,expression:"canBoData.phone_number"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"phone_number"},domProps:{value:t.canBoData.phone_number},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"phone_number",e.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"bmd-label-floating"},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.canBoData.email,expression:"canBoData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:t.canBoData.email},on:{input:function(e){e.target.composing||t.$set(t.canBoData,"email",e.target.value)}}})])]),a("div",{staticClass:"col-md-3 ml-auto"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.onSubmit}},[t._v(t._s(t.buttonName))])])])])])},r=[],i=(a("6b54"),a("2397"),a("d225")),o=a("b0b4"),c=a("4e2b"),s=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3");function f(t){var e=p();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var m=function(t){Object(c["a"])(a,t);var e=f(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.buttonName="Tạo mới",t.canBoData={fullname:"",department_id:"",position:"",degree:"",phone_number:"",email:""},t}return Object(o["a"])(a,[{key:"onSubmit",value:function(){var t=this,e="key-officer/create";"update"===this.type&&(e="key-officer/update/"+this.keyOfficerId),0===this.$validator.errors.all().length&&""!==this.canBoData.department_id?this.axios.post(e,this.canBoData).then((function(e){console.log(e.data),t.$emit("onSubmit",e.data.data.key_officer),"update"===t.type?t.$notify.success("Cập nhật cán bộ thành công!"):t.$notify.success("Tạo mới cán bộ thành công!")})):this.$notify.warning("Vui lòng nhập đủ thông tin!")}},{key:"changeCanBo",value:function(){"update"===this.type&&(this.canBoData=Object.assign(this.canBoData,this.propCanBo))}},{key:"created",value:function(){"update"===this.type&&(this.buttonName="Cập nhật")}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])({required:!0,default:[]})],m.prototype,"phongBan",void 0),Object(u["a"])([Object(d["b"])({required:!1,default:"create"})],m.prototype,"type",void 0),Object(u["a"])([Object(d["b"])({required:!1,default:0})],m.prototype,"keyOfficerId",void 0),Object(u["a"])([Object(d["b"])({required:!1})],m.prototype,"propCanBo",void 0),Object(u["a"])([Object(d["d"])("propCanBo",{deep:!0,immediate:!0})],m.prototype,"changeCanBo",null),m=Object(u["a"])([d["a"]],m);var v=m,b=v,h=a("2877"),g=Object(h["a"])(b,n,r,!1,null,"5630814c",null);e["a"]=g.exports},ccf1:function(t,e,a){"use strict";var n=a("fa92"),r=a.n(n);r.a},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,a){var n=a("d3f4"),r=a("1169"),i=a("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},fa92:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6546bed0.1b0ebae2.js.map